(()=>{"use strict";let e=null,t=null,n=null,o=null,d=null,i=null,a=null,r=null,l=!1;function c(l,c){e=l,t=c.trigger,o=c.openActions,d=c.closeActions,n=l.querySelector("[data-ctrl-enter-btn]"),document.body.classList.add("body--withModal"),l.setAttribute("aria-hidden","false"),l.setAttribute("tabindex","0"),l.classList.add("modal--isOpen"),i=function(e){let t=e.querySelectorAll(["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])']);return Array.from(t)}(l),a=i[0],r=i[i.length-1],i.every((e=>"BUTTON"===e.tagName))?u(l.querySelector("[data-focus]")):u(a),history.pushState("fromSite",""),l.addEventListener("pointerdown",v),l.addEventListener("click",f),l.addEventListener("click",m),a?.addEventListener("keydown",b),r?.addEventListener("keydown",L),document.addEventListener("keydown",y),document.addEventListener("keydown",h),o?.forEach((e=>e()))}function s(c){document.body.classList.remove("body--withModal"),c.setAttribute("aria-hidden","true"),c.setAttribute("tabindex","-1"),c.classList.remove("modal--isOpen"),history.state?history.back():history.replaceState(null,""),t.focus(),c.removeEventListener("pointerdown",v),c.removeEventListener("click",f),c.removeEventListener("click",m),a.removeEventListener("keydown",b),r.removeEventListener("keydown",L),document.removeEventListener("keydown",y),document.removeEventListener("keydown",h),d?.forEach((e=>e())),e=null,t=null,n=null,o=null,d=null,i=null,a=null,r=null,l=!1}function u(e){e?.focus({preventScroll:!0})}function v(e){1===e.which&&(l=e.target.classList.contains("modal"))}function f(t){1===t.which&&!1!==l&&t.target.classList.contains("modal")&&s(e)}function m(t){void 0!==t.target.dataset.closeBtn&&s(e)}function y(t){"Escape"===t.code&&s(e)}function h(e){e.ctrlKey&&("Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),n?.click()))}function b(e){"Tab"===e.code&&e.shiftKey&&(e.preventDefault(),u(r))}function L(e){"Tab"===e.code&&(e.shiftKey||(e.preventDefault(),u(a)))}document.addEventListener("click",(function(e){let t=e.target.closest("[data-modal-trigger='true']");t&&(e.preventDefault(),c(document.querySelector("#"+t.dataset.targetModalId),{trigger:t}))})),window.addEventListener("popstate",(function(){null!==e&&s(e)}))})();
//# sourceMappingURL=script.js.map